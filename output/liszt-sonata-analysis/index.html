<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>F. Liszt b minor sonata analysis - Martin Kaptein</title><meta name="description" content="An analysis of the famous b minor Sonata by Franz Liszt."><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://www.martinkaptein.com/liszt-sonata-analysis/"><link rel="amphtml" href="https://www.martinkaptein.com/amp/liszt-sonata-analysis/"><link type="application/atom+xml" rel="alternate" href="https://www.martinkaptein.com/feed.xml"><meta property="og:title" content="F. Liszt b minor sonata analysis"><meta property="og:image" content="https://www.martinkaptein.com/media/posts/6/formal_structure_table.jpg"><meta property="og:site_name" content="Martin Kaptein - My website"><meta property="og:description" content="An analysis of the famous b minor Sonata by Franz Liszt."><meta property="og:url" content="https://www.martinkaptein.com/liszt-sonata-analysis/"><meta property="og:type" content="article"><meta property="fb:app_id" content="650663772029023"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@martinkaptein"><meta name="twitter:title" content="F. Liszt b minor sonata analysis"><meta name="twitter:description" content="An analysis of the famous b minor Sonata by Franz Liszt."><meta name="twitter:image" content="https://www.martinkaptein.com/media/posts/6/formal_structure_table.jpg"><link rel="shortcut icon" href="https://www.martinkaptein.com/media/website/favicon.ico" type="image/x-icon"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Roboto:400,700%7CRoboto+Condensed:400,700&amp;subset=latin-ext" rel="stylesheet"><link rel="stylesheet" href="https://www.martinkaptein.com/assets/css/style.css?v=aa41620c4f80dc7a8874270e3bdddd5b"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.martinkaptein.com/liszt-sonata-analysis/"},"headline":"F. Liszt b minor sonata analysis","datePublished":"2019-04-21T16:33","dateModified":"2019-04-21T16:33","image":{"@type":"ImageObject","url":"https://www.martinkaptein.com/media/posts/6/formal_structure_table.jpg","height":502,"width":1102},"description":"F. Liszt b minor Sonata AnalysisNote:This blog entry makes extensive use of the content found over at Musica Kaleidoskopea. Link here. If you are the author of the article linked above, and do not wish me to use your content, please let me now and&hellip;","author":{"@type":"Person","name":"Martin Kaptein"},"publisher":{"@type":"Organization","name":"Martin Kaptein","logo":{"@type":"ImageObject","url":"https://www.martinkaptein.com/media/website/logo.png","height":705,"width":705}}}</script><script async src="https://www.martinkaptein.com/assets/js/lazysizes.min.js?v=fcb7109aacc796048242935c33a7f9ab"></script><style>.top__search [type=search] {
						background-image: url(https://www.martinkaptein.com/assets/svg/search.svg);
				    }</style><script async src="https://www.googletagmanager.com/gtag/js?id=UA-86096566-3"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-86096566-3');</script></head><body><div class="container"><header class="js-top is-sticky"><a class="logo" href="https://www.martinkaptein.com"><img src="https://www.martinkaptein.com/media/website/logo.png" alt="Martin Kaptein"></a><div class="top"><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle">Menu</button><ul class="navbar__menu"><li><a href="https://www.martinkaptein.com/about/" target="_self">About</a></li><li><a href="https://www.martinkaptein.com/contact/" target="_self">Contact</a></li><li><a href="https://www.martinkaptein.com/piano-and-music-theory-lessons/" target="_self">Music lessons (English)</a></li></ul></nav><div class="top__search"><form action="https://www.martinkaptein.com/search.html" class="search"><input type="search" name="q" placeholder="search..."></form></div></div></header><main><article class="post"><div class="hero"><figure class="hero__wrap"><img src="https://www.martinkaptein.com/media/posts/6/formal_structure_table.jpg" sizes="(max-width: 1600px) 100vw, 1600px" srcset="https://www.martinkaptein.com/media/posts/6/responsive/formal_structure_table-xs.jpg 300w, https://www.martinkaptein.com/media/posts/6/responsive/formal_structure_table-sm.jpg 480w, https://www.martinkaptein.com/media/posts/6/responsive/formal_structure_table-md.jpg 768w, https://www.martinkaptein.com/media/posts/6/responsive/formal_structure_table-lg.jpg 1024w, https://www.martinkaptein.com/media/posts/6/responsive/formal_structure_table-xl.jpg 1360w, https://www.martinkaptein.com/media/posts/6/responsive/formal_structure_table-2xl.jpg 1600w" alt="Liszt Sonata form"><figcaption>Liszt Sonata form</figcaption></figure><header class="hero__text"><h1>F. Liszt b minor sonata analysis</h1><p class="post__meta"><time datetime="2019-04-21T16:33">April 21, 2019 </time>By <a href="https://www.martinkaptein.com/authors/martinkaptein/" rel="author" title="Martin Kaptein">Martin Kaptein</a></p></header></div><div class="post__entry"><h1 data-breakpage="">F. Liszt b minor Sonata Analysis</h1><h4>Note:</h4><p>This blog entry makes extensive use of the content found over at <a href="https://fdleone.com/2015/07/09/overview-and-analysis-of-the-liszt-piano-sonata-in-b-minor-s-178/">Musica Kaleidoskopea</a>. <a href="https://fdleone.com/2015/07/09/overview-and-analysis-of-the-liszt-piano-sonata-in-b-minor-s-178/">Link here</a>.</p><p>If you are the author of the article linked above, and do not wish me to use your content, please let me now and <a href="../contact/">contact me here</a>, I will remove this page.</p><p>The content is purely for educational purpose, I do not claim any copyright.</p><p>With that out of the way, let's start.</p><hr><figure class="post__image"><img class="lazyload" src="https://www.martinkaptein.com/media/posts/6/responsive/liszt_portrait-xs.jpg" data-sizes="auto" data-srcset="https://www.martinkaptein.com/media/posts/6/responsive/liszt_portrait-xs.jpg 300w ,https://www.martinkaptein.com/media/posts/6/responsive/liszt_portrait-sm.jpg 480w ,https://www.martinkaptein.com/media/posts/6/responsive/liszt_portrait-md.jpg 768w" alt="Portrait of Franz Liszt" width="242" height="300"></figure><p><em>Maestro Franz Liszt</em></p><h2>Introduction</h2><p><em>Before I begin with the analysis I would like to make clear that my view towards this Sonata is very biased as, having played this piece myself, I am a huge fan of this Sonata (it is one of my favourite pieces ever composed for piano). Furthermore, there is a chance that not all information is correct (depends somewhat on your definition of 'correct'), so you have been warned.</em></p><p>Along with Beethoven’s Hammerklavier and Schubert’s Wanderer Fantasie, the B minor Sonata of Franz Liszt is, with its duration of about 30 minutes one of the, technically and musically most difficult and elaborate Piano Sonata composition of the 19th century.</p><h3>Historic context</h3><p>The sonata was published in the spring of 1854 (performed ’57) and dedicated to Robert Schumann. Liszt meant this as a reciprocal gesture to Schumann in response to his being the dedicatee of the latter’s Fantasy in C major (1839), a work that Liszt described as sublime.</p><p>However, Schumann never knew of the B Minor Sonata’s existence since by the time a copy of the newly published work arrived at the Schumann’s home in May, 1854, Schumann was already at the asylum at Endenich.</p><h3>Possible meanings of the Sonata</h3><p>There are some theories about the meaning of the Sonata, although, intrestingly enough, Liszt never said anything about any programmatic context.</p><p>Here are some popular theories:</p><ul><li>The Sonata is a musical portrait of the Faust legend (by Göthe) with themes and motifs of Faust, Gretchen and Mephistopheles</li><li>The Sonata has autobiographical content</li></ul><p>An example for the latter is Liszt’s relationship with the Princess Carolyne von Sayn-Wittgenstein, his mistress for thirteen years at Weimar and close friend for the better part of half of a century (with themes and motifs of Liszt and Carolyne).</p><ul><li>The juxtaposition of good and evil, about the divine and the diabolical</li><li>Allegory set in the garden of Eden (biblical context)</li><li>The sonata has no meaning at all</li></ul><p>Personally, I think the fact that Liszt never mentioned any programmatic context, makes this sonata even more special. This way, it appears almost mysterically veiled; giving insight in something that is, ultimately, not depictable by words, only by music.</p><h2>Form</h2><h3>Introduction</h3><p>Now, I would like to present the Form of this piece which is very complicated.</p><p>The sonata unfolds in approximately 30 minutes of unbroken music. While its four distinct movements are rolled into one, the entire work is encompassed within the traditional Classical sonata scheme — exposition, development, and recapitulation.</p><p>Liszt has effectively composed a sonata within a sonata, which is part of the work's uniqueness. Liszt was very economical with his thematic material, indeed, the very first page contains the three motivic ideas that provide the content, transformed throughout, for nearly all that follows.</p><h3>Liszt's inspiration</h3><p>It is likely that Liszt derived the idea of thematic transformation as a unifying process from Schubert’s Wanderer Fantasy, a work which he himself transcribed for piano and orchestra in 1851 (which is a one-movement sonata, and a traditional four-movement sonata the same time).</p><p>This is all possible because every single movement is built around the same motif, which is itself derived from the opening phrase of Schubert’s lied Der Wanderer. It’s very clear that it was a source of inspiration for Liszt. Also, just as in the Liszt Sonata, the four movements are played without a break.</p><h3>Formal structure</h3><figure class="post__image"><img class="lazyload" src="https://www.martinkaptein.com/media/posts/6/responsive/formal_structure_table-xs.jpg" data-sizes="auto" data-srcset="https://www.martinkaptein.com/media/posts/6/responsive/formal_structure_table-xs.jpg 300w ,https://www.martinkaptein.com/media/posts/6/responsive/formal_structure_table-sm.jpg 480w ,https://www.martinkaptein.com/media/posts/6/responsive/formal_structure_table-md.jpg 768w" alt="Formal structure table of the Liszt B minor Sonata" width="1102" height="502"></figure><p><em>Here is a table which shows my approximation of the formal structure (although there are many other possibilities as claimed by theorists such as Newman or Winklhofer). Numbers are the Bars, for idea of proportion.</em></p><p>Hence, this Sonata is one of the first instances of a Double-function form, a musical piece which has two classical forms happening at the same time. Composers like Schönberg later drew inspiration from this.</p><h3>Themes and motifs</h3><p>This is an appropriate moment to present the themes of the Sonata. The main theme is scattered across the first page (of the Emil von Sauer edition of the Score), which functions as a prologue.</p><p>The first part of the theme consists of a double drumbeat (unisono, G) and a descending scale(phrygian and gypsy) , which can be interpreted as a theme on its own.</p><p>The second part of the theme consist of a (unisono) octave leap and as a very energetic and strong willed character. Perhaps it is an image of Faust. the third part of the main theme is the hammerblow (quick repetition of notes) which has a very demonic character and could very well represent Mephisto (from Goethe’s ‘Faust’).</p><p>By the way this theme is later transformed into the 2nd Subordinate theme. Everything in this Sonata is build around these 3 mini-themes.</p><p>The epilogue (last page in the Emil von Sauer edition) consist of the same motifs as the prologue but in a different key and in reverse order. This, kind of makes this piece symmetrical and, probably, has a symbolic meaning of returning to the same point (beginning&gt;&gt;ending) after a long journey.</p><figure class="post__image"><img class="lazyload" src="https://www.martinkaptein.com/media/posts/6/responsive/theme_overview_sonata-xs.jpg" data-sizes="auto" data-srcset="https://www.martinkaptein.com/media/posts/6/responsive/theme_overview_sonata-xs.jpg 300w ,https://www.martinkaptein.com/media/posts/6/responsive/theme_overview_sonata-sm.jpg 480w ,https://www.martinkaptein.com/media/posts/6/responsive/theme_overview_sonata-md.jpg 768w" alt="Theme overview of the Liszt Sonata" width="1250" height="392"></figure><p><em>To help make myself clear, here is an overview of the themes and the keys.</em></p><h2>Analysis of my favourite passages</h2><p>Next, I would like to show some passages, which are very interesting (macro analysis).</p><h3>Recitativo</h3><p>The first passage is the Recitativo (from Bar 297). This Recitativo can be seen as the transition from the 1st movement into the 2nd mov. (andante sostenuto). It is made of the 1st Subordinate theme and features very special 3rd relations: C sharp minor 64 chord, A major, A augmented and D major, all the time with G sharp as a pedal point (which really adds a lot of tension).</p><p>After the first Recitativo comes a similar passage (Bar 302): F minor &gt;&gt; D flat major &gt;&gt; D flat augmented and G flat augmented. After that it goes on with the half - whole scale which transitions trough the mephisto theme (bar 319) into the 2nd movement.</p><h3>Fugato</h3><p>Now I’d like to write about the Fugato (from Bar 460), which is the transition to the Recapitulation.</p><p>The final recapitulatory section is launched by a driving fugato of contrapuntal skill which leads to the compressed return of the opening material. Calling upon every intellectual resource and fully exploiting the pianist's technical arsenal, it is at this point where a performer's concentration might flag.</p><p>But this final section has only just begun, and a pianist needs to have reserved fuel in his tank if he is to turn in a successful performance of the sonata. Up to Bar 522 its fugue-like in 3 parts.</p><p>The fugato is in B flat minor using motif the 2nd and 3rd motif from the prologue. At one point the fugato subject is turned upside down and presented in counterpoint against itself.</p><p>This fugato has a very ironic and diabolic character. Perhaps it is a conversation between Faust and Mephisto? After the fugal entries the fugato modulates enharmonically and moves from a polyphonic to a more homophone texture where the recapitulation is started.</p><h3>Epiloque</h3><p>Last but not least I would like to end with the epilogue. Like I indicated earlier, it consist of the same motifs as the prologue but reharmonised and in reverse order.</p><p>A very special moment in the final chord progression (Bar 755 and following): A major &gt;&gt; F major &gt;&gt; And B major. F major and B major are located as far as possible form each other in the circle of fifth.</p><p>This chord progression has a very special effect and is, probably, one of the most amazing chord progressions in romantic music.</p><h2>Conclusion</h2><p>As you have, probably, noticed, it is impossible to make a black - white kind of analysis of this sonata, which makes it really interesting.</p><p>In my opinion, this music isn’t meant to be nice music in a narrow sense, but it tells a story. It’s up to the performer and the listener to understand it.</p><p class="post__last-updated">This article was updated on April 21, 2019</p></div><aside class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.martinkaptein.com%2Fliszt-sonata-analysis%2F" class="js-share facebook" title="Share with Facebook" rel="nofollow"><svg class="icon"><use xlink:href="https://www.martinkaptein.com/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fwww.martinkaptein.com%2Fliszt-sonata-analysis%2F&amp;via=%40MartinKaptein&amp;text=F.%20Liszt%20b%20minor%20sonata%20analysis" class="js-share twitter" title="Share with Twitter" rel="nofollow"><svg class="icon"><use xlink:href="https://www.martinkaptein.com/assets/svg/svg-map.svg#twitter"/></svg></a></aside><footer class="post__footer"><ul class="post__tag"><li><a href="https://www.martinkaptein.com/tags/blog/">Blog</a></li><li><a href="https://www.martinkaptein.com/tags/music/">Music</a></li></ul><div class="post__bio"><img src="https://www.martinkaptein.com/media/website/martin-kaptein-hero-copy.JPG" alt="Martin Kaptein"><h3><a href="https://www.martinkaptein.com/authors/martinkaptein/" class="inverse" title="Martin Kaptein">Martin Kaptein</a></h3><p>Martin Kaptein is the author on the website on martinkaptein.com.</p></div><nav class="post__nav"><div class="post__nav__prev">Previous Post<h5><a href="https://www.martinkaptein.com/ubuntu-touch-on-nexus-4-in-2018-installation-and-review/" class="inverse" rel="prev">Ubuntu Touch on the LG Nexus 4 in 2018 - the painful installation and review</a></h5></div><div class="post__nav__next">Next Post<h5><a href="https://www.martinkaptein.com/rachmaninoff-op39-no5-analysis/" class="inverse" rel="next">Analysis of Sergei Rachmaninoff&#x27;s Etude-Tableaux Op.39 No.5</a></h5></div></nav><div class="post__related"><h3>Related posts</h3><div class="post__related__wrap"><figure><a href="https://www.martinkaptein.com/10-reasons-casio-f-91w-best-watch/"><img class="lazyload" src="https://www.martinkaptein.com/media/posts/3/responsive/with-casio-f91w-xs.jpg" data-srcset="https://www.martinkaptein.com/media/posts/3/responsive/with-casio-f91w-xs.jpg" data-expand="300" alt="Casio F-91W in action"></a><figcaption><h4><a href="https://www.martinkaptein.com/10-reasons-casio-f-91w-best-watch/" class="inverse">10 Reasons the Casio F-91W is the best watch in the world</a></h4><time datetime="2019-04-21T12:27">April 21, 2019</time></figcaption></figure><figure><a href="https://www.martinkaptein.com/using-a-nexus-4-in-2018/"><img class="lazyload" src="https://www.martinkaptein.com/media/posts/4/responsive/ubports-terminal-xs.jpg" data-srcset="https://www.martinkaptein.com/media/posts/4/responsive/ubports-terminal-xs.jpg" data-expand="300" alt="Ubports running on the Nexus 4"></a><figcaption><h4><a href="https://www.martinkaptein.com/using-a-nexus-4-in-2018/" class="inverse">Using a Nexus 4 in 2018</a></h4><time datetime="2019-04-21T16:16">April 21, 2019</time></figcaption></figure><figure><a href="https://www.martinkaptein.com/ubuntu-touch-on-nexus-4-in-2018-installation-and-review/"><img class="lazyload" src="https://www.martinkaptein.com/media/posts/5/responsive/ubuntu-touch-nexus-4-xs.jpg" data-srcset="https://www.martinkaptein.com/media/posts/5/responsive/ubuntu-touch-nexus-4-xs.jpg" data-expand="300" alt="ubports running on the nexus 4"></a><figcaption><h4><a href="https://www.martinkaptein.com/ubuntu-touch-on-nexus-4-in-2018-installation-and-review/" class="inverse">Ubuntu Touch on the LG Nexus 4 in 2018 - the painful installation and review</a></h4><time datetime="2019-04-21T16:23">April 21, 2019</time></figcaption></figure></div></div></footer></article><h3>Comments</h3><div id="disqus_thread"></div><script>var disqus_config = function () {
              this.page.url = 'https://www.martinkaptein.com/liszt-sonata-analysis/';
      		this.page.identifier = '6';
              this.page.title = ' F. Liszt b minor sonata analysis - Martin Kaptein ';
          };
      
          var disqus_loaded = false;
      
          function publiiLoadDisqus() {
              if(disqus_loaded) {
                  return false;
              }
      
              var top = document.getElementById('disqus_thread').offsetTop;
      
              if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                  disqus_loaded = true;
      
                  (function () {
                      var d = document, s = d.createElement('script');
                      s.src = '//martinkaptein.disqus.com/embed.js';
                      s.setAttribute('data-timestamp', +new Date());
                      (d.head || d.body).appendChild(s);
                  })();
              }
          }
      
          publiiLoadDisqus();
      
          window.onscroll = function() {
              publiiLoadDisqus();
          };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></main><footer class="footer"><div class="footer__social"><a href="https://www.facebook.com/martin.kaptein" aria-label="Facebook"><svg class="icon"><use xlink:href="https://www.martinkaptein.com/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/MartinKaptein/" aria-label="Twitter"><svg class="icon"><use xlink:href="https://www.martinkaptein.com/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.instagram.com/martinkaptein/" aria-label="Instagram"><svg class="icon"><use xlink:href="https://www.martinkaptein.com/assets/svg/svg-map.svg#instagram"/></svg> </a><a href="https://linkedin.com/in/martin-kaptein-a26661159" aria-label="LinkedIn"><svg class="icon"><use xlink:href="https://www.martinkaptein.com/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://www.youtube.com/channel/UCosUIzMUriRTgg60vh3EwCQ" aria-label="Youtube"><svg class="icon"><use xlink:href="https://www.martinkaptein.com/assets/svg/svg-map.svg#youtube"/></svg></a></div><div class="footer__copyright">copyright 2019 Martin Kaptein</div></footer></div><script defer="defer" src="https://www.martinkaptein.com/assets/js/jquery-3.2.1.slim.min.js?v=5f48fc77cac90c4778fa24ec9c57f37d"></script><script defer="defer" src="https://www.martinkaptein.com/assets/js/scripts.min.js?v=5dffffceea1fdc07740088873ba7ff09"></script><div class="cookie-popup js-cookie-popup cookie-popup--uses-badge"><h2>This website uses cookies and Google Analytics</h2><p>Select which cookies to opt-in to via the checkboxes below; our website uses cookies and Google Analytics to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality. This website uses cookies to ensure you get the best experience on our site and to provide a comment feature. To analyze our traffic, we use basic Google Analytics implementation with anonymized data. If you continue without changing your settings, we'll assume that you are happy to receive all cookies on the website of Martin Kaptein. To understand more about how we use cookies, or for information on how to change your cookie settings, please see our Privacy Policy. <a href="https://www.martinkaptein.com/privacy-policy/">More details...</a></p><form><input id="gdpr-necessary" name="gdpr-necessary" checked="checked" disabled="disabled" type="checkbox"> <label for="gdpr-necessary">Required</label> <input id="gdpr-functions" name="gdpr-functions" type="checkbox"> <label for="gdpr-functions">Functionality</label> <input id="gdpr-analytics" name="gdpr-analytics" type="checkbox"> <label for="gdpr-analytics">Analytical</label> <input id="gdpr-marketing" name="gdpr-marketing" type="checkbox"> <label for="gdpr-marketing">Marketing</label><p class="cookie-popup__save-wrapper"><button type="submit" class="cookie-popup__save">Save</button></p></form><span class="cookie-popup-label">Cookie Policy</span></div><script>(function() {
                function addScript (src, inline) {
                    var newScript = document.createElement('script');

                    if (src) {
                        newScript.setAttribute('src', src);
                    }

                    if (inline) {
                        newScript.text = inline;
                    }

                    document.body.appendChild(newScript);
                }

                var popup = document.querySelector('.js-cookie-popup');
                var checkboxes = popup.querySelectorAll('input[type="checkbox"]');
                var save = popup.querySelector('button');
                var currentConfig = localStorage.getItem('publii-gdpr-allowed-cookies');
                var blockedScripts = document.querySelectorAll('script[type^="gdpr-blocker/"]');
                

                popup.addEventListener('click', function() {
                    if (!popup.classList.contains('cookie-popup--is-sticky')) {
                        popup.classList.add('cookie-popup--is-sticky');
                    }
                });

                save.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    popup.classList.remove('cookie-popup--is-sticky');
                    var allowedGroups = [];

                    for (var i = 0; i < checkboxes.length; i++) {
                        if (checkboxes[i].checked) {
                            var groupName = checkboxes[i].getAttribute('name').replace('gdpr-', '');
                            var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + groupName + '"]');

                            for (var j = 0; j < scripts.length; j++) {
                                addScript(scripts[j].src, scripts[j].text);
                            }

                            allowedGroups.push(groupName);
                        }
                    }

                    localStorage.setItem('publii-gdpr-allowed-cookies', allowedGroups.join(','));
                    popup.classList.remove('cookie-popup--is-sticky');

                    setTimeout(function () {
                        if (currentConfig !== null) {
                            window.location.reload();
                        }
                    }, 250);
                });

                if (currentConfig === null) {
                    popup.classList.add('cookie-popup--is-sticky');
                } else {
                    if (currentConfig !== '') {
                        var allowedGroups = currentConfig.split(',');

                        for (var i = 0; i < allowedGroups.length; i++) {
                            var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroups[i] + '"]');
                            var checkbox = popup.querySelector('input[type="checkbox"][name="gdpr-' + allowedGroups[i] + '"]');

                            if (checkbox) {
                                checkbox.checked = true;
                            }

                            for (var j = 0; j < scripts.length; j++) {
                                addScript(scripts[j].src, scripts[j].text);
                            }
                        }
                    }
                }
            })();</script></body></html>